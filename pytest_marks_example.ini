[pytest]
# Pytest 配置範例 - 註冊自定義 marks

markers =
    # 測試類型標記
    smoke: 煙霧測試 - 核心功能的快速測試
    regression: 回歸測試 - 確保新功能不會破壞現有功能
    integration: 整合測試 - 測試多個組件之間的互動
    unit: 單元測試 - 測試單一組件
    functional: 功能測試 - 測試完整的業務流程

    # API 測試標記
    api: API 測試
    rest: REST API 測試
    graphql: GraphQL API 測試

    # 模組標記
    user: 用戶模組測試
    booking: 訂票模組測試
    event: 活動模組測試
    ticket: 票務模組測試
    seat: 座位模組測試

    # 測試特性標記
    slow: 執行時間較長的測試
    fast: 執行時間很短的測試
    negative: 負向測試 - 測試錯誤情況
    positive: 正向測試 - 測試正常情況
    security: 安全性測試
    performance: 效能測試

    # BDD 相關
    bdd: BDD 測試
    scenario: BDD 場景測試

    # 環境標記
    dev: 僅在開發環境運行
    staging: 僅在預發環境運行
    prod: 可在生產環境運行

# BDD 配置
bdd_features_base_dir = test/
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 測試輸出配置
addopts =
    -v
    --strict-markers
    --tb=short
    --capture=no

# 測試路徑
testpaths = test
